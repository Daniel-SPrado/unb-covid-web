(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0773":function(t,e,a){},3492:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},i=[],s={name:"App",data:function(){return{}}},o=s,l=a("2877"),c=Object(l["a"])(o,r,i,!1,null,null,null),u=c.exports,d=(a("b0c0"),a("8c4f")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-email",type:"text"},model:{value:t.login.email,callback:function(e){t.$set(t.login,"email",e)},expression:"login.email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.login_form()}}},[t._v("Login")])],1)],1)],1)],1)],1)],1),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Email ou senha incorretos "),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Close ")])],1)],1)},p=[],f=a("bc3a"),v=a.n(f),h=(a("99af"),a("dca8"),Object.freeze({dev:"localhost:3333",prod:"localhost:3333",get:function(t){var e="dev";return console.log(h[e]),console.log(t),"http://".concat(h[e],"/").concat(t)}})),b=h,g={props:{source:String},data:function(){return{snackbar:!1,login:{email:"",password:""}}},methods:{login_form:function(){var t=this,e=b.get("sessions");v.a.post(e,this.login).then((function(e){200==e.status?(localStorage.setItem("app_user",JSON.stringify(e.data)),localStorage.setItem("user_name",e.data.user.name),localStorage.setItem("user_id",e.data.user.id),localStorage.setItem("user_email",e.data.user.email),localStorage.setItem("user_whatsapp",e.data.user.whatsapp),localStorage.setItem("user_profile",e.data.user.profile),localStorage.setItem("user_token",e.data.token),location.href="/"):t.snackbar=!0}))}}},_=g,x=a("6544"),k=a.n(x),w=a("7496"),y=a("8336"),I=a("b0af"),V=a("99d9"),C=a("62ad"),S=a("a523"),O=a("a75b"),j=a("4bd4"),T=a("0fd9"),A=a("2db4"),F=a("2fa4"),$=a("8654"),D=a("71d9"),R=a("2a7f"),E=Object(l["a"])(_,m,p,!1,null,null,null),L=E.exports;k()(E,{VApp:w["a"],VBtn:y["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["b"],VCol:C["a"],VContainer:S["a"],VContent:O["a"],VForm:j["a"],VRow:T["a"],VSnackbar:A["a"],VSpacer:F["a"],VTextField:$["a"],VToolbar:D["a"],VToolbarTitle:R["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"grey lighten-4"},[a("Toolbar"),a("v-content",{staticClass:"mx-6 mb-4"},[a("br"),a("router-view")],1),a("Footer")],1)},M=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{attrs:{flat:"",app:"",color:"grey lighten-4"}},[a("v-app-bar-nav-icon",{staticClass:"grey--text",on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[a("span",{staticClass:"font-weight-light"},[t._v(" UnB ")]),a("span",[t._v(" Solidaria ")])]),a("v-spacer"),a("v-btn",{attrs:{color:"grey",text:""},on:{click:function(e){return t.signout()}}},[a("span",[t._v(" Sign Out ")]),a("v-icon",{attrs:{right:""}},[t._v(" fas fa-sign-out-alt ")])],1)],1),a("v-row",[a("v-navigation-drawer",{staticClass:"indigo lighten-4",attrs:{app:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"toCenter pa-5"},[a("v-switch",{attrs:{"hide-details":"",inset:"",label:"Theme Dark"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",[a("v-avatar",{attrs:{color:"indigo"}},[a("span",{staticClass:"white--text headline"},[t._v(":) ")])]),a("v-list-item-content",[a("v-list-item-title",{staticClass:"title title-space"},[t._v(" "+t._s(t.user.name)+" ")]),a("v-list-item-subtitle",{staticClass:"title-space"},[t._v(" "+t._s(t.user.email)+" ")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-group",{attrs:{"prepend-icon":"mdi-map"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-title",[t._v("Solidaria")])]},proxy:!0}])},t._l(t.solidaria_items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1),a("v-list-group",{attrs:{"prepend-icon":"mdi-map"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-title",[t._v("SOS")])]},proxy:!0}])},t._l(t.sos_items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1),t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2)],1)],1)],1)},z=[],N=a("d4ec"),U=a("bee2"),G=a("ade3"),W=function(){function t(){Object(N["a"])(this,t),Object(G["a"])(this,"get_session",(function(t){return v.a.post(b.get("session"),t)}))}return Object(U["a"])(t,[{key:"return_user",value:function(){var t=localStorage.getItem("user_name"),e=localStorage.getItem("user_id"),a=localStorage.getItem("user_email"),n=localStorage.getItem("user_whatsapp"),r=localStorage.getItem("user_token"),i={name:t,id:e,email:a,whatsapp:n,token:r};return i}}]),t}(),H=new W,K={name:"ToolBar",components:{},data:function(){return{user:"",drawer:!0,nulo:"Maria",items:[{icon:"mdi-human",title:"Usuários",route:"/usuarios"}],solidaria_items:[{icon:"mdi-alert",title:"Alertas",route:"/"},{icon:"mdi-map-marker",title:"Map",route:"/map"},{icon:"mdi-map-marker-circle",title:"Heat Map",route:"/heatmap"}],sos_items:[{icon:"mdi-alert",title:"Alertas",route:"/sos/socorro"}],name:"Meu nome",role:"Meu papel"}},mounted:function(){this.get_user()},methods:{get_user:function(){this.user=H.return_user()},signout:function(){localStorage.clear(),location.href="/"}}},J=K,Y=(a("a247"),a("40dc")),q=a("5bc1"),Z=a("8212"),Q=a("ce7e"),X=a("132d"),tt=a("8860"),et=a("56b0"),at=a("da13"),nt=a("5d23"),rt=a("34c3"),it=a("f774"),st=a("b73d"),ot=Object(l["a"])(J,B,z,!1,null,"3a550808",null),lt=ot.exports;k()(ot,{VAppBar:Y["a"],VAppBarNavIcon:q["a"],VAvatar:Z["a"],VBtn:y["a"],VDivider:Q["a"],VIcon:X["a"],VList:tt["a"],VListGroup:et["a"],VListItem:at["a"],VListItemContent:nt["a"],VListItemIcon:rt["a"],VListItemSubtitle:nt["b"],VListItemTitle:nt["c"],VNavigationDrawer:it["a"],VRow:T["a"],VSpacer:F["a"],VSwitch:st["a"],VToolbarTitle:R["a"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"footer",attrs:{height:"50px"}},[a("v-footer",{staticClass:"font-weight-medium",attrs:{height:"50px",fixed:"",color:"white"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("Latitude")])])],1)],1)},ut=[],dt={},mt=dt,pt=a("553a"),ft=Object(l["a"])(mt,ct,ut,!1,null,"65b7a7d7",null),vt=ft.exports;k()(ft,{VCard:I["a"],VCol:C["a"],VFooter:pt["a"]});var ht={components:{Toolbar:lt,Footer:vt},data:function(){return{}}},bt=ht,gt=Object(l["a"])(bt,P,M,!1,null,null,null),_t=gt.exports;k()(gt,{VApp:w["a"],VContent:O["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,search:t.search,"sort-by":["id"],"sort-desc":["false"]},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuários")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-account-search",label:"search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{style:{backgroundColor:t.getColor(t.editedItem)}},[a("span",{staticClass:"headline"},[t._v(t._s(t.editedItem.id)+" - "+t._s(t.editedItem.name))])]),a("v-card-text",[a("v-container",[a("v-img",{attrs:{height:"100%",src:"https://cdn.vuetifyjs.com/images/cards/server-room.jpg"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"66",md:"6"}},[a("v-text-field",{attrs:{label:"Email",disabled:""},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Whatsapp",disabled:""},model:{value:t.editedItem.whatsapp,callback:function(e){t.$set(t.editedItem,"whatsapp",e)},expression:"editedItem.whatsapp"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Endereço",disabled:""},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nascimento",disabled:""},model:{value:t.editedItem.birth_date,callback:function(e){t.$set(t.editedItem,"birth_date",e)},expression:"editedItem.birth_date"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Vinculo",disabled:""},model:{value:t.editedItem.link_unb,callback:function(e){t.$set(t.editedItem,"link_unb",e)},expression:"editedItem.link_unb"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.riskGroup,expression:"riskGroup"}],attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Grupo de Risco",disabled:""},model:{value:t.editedItem.risk_group,callback:function(e){t.$set(t.editedItem,"risk_group",e)},expression:"editedItem.risk_group"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{required:"","item-text":"name",label:"Perfil","item-value":"value",items:t.profiles},model:{value:t.editedItem.profile_id,callback:function(e){t.$set(t.editedItem,"profile_id",e)},expression:"editedItem.profile_id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.riskGroup=!t.riskGroup}}},[t._v("Ver grupo de risco")]),a("v-spacer"),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.saveProfile}},[t._v("Salvar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Fechar")])],1)],1)],1)],1)]},proxy:!0},{key:"body",fn:function(e){var n=e.items;return[a("tbody",t._l(n,(function(e,n){return a("tr",{key:n+"-"+e.id,style:{backgroundColor:t.getColor(e)}},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.whatsapp))]),a("td",[t._v(t._s(e.address))]),a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e)}}},[t._v("mdi-pencil")])],1)])})),0)]}},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v("mdi-pencil")])]}}])})],1)},kt=[],wt=(a("ac1f"),a("1276"),a("96cf"),a("1da1")),yt={USERS:b.get("users"),HELPS:b.get("help"),SOS:b.get("sos"),PROFILES:b.get("users/profiles")},It=localStorage.getItem("user_token"),Vt=function t(){Object(N["a"])(this,t),Object(G["a"])(this,"get_users",(function(){return v.a.get(yt.USERS,{headers:{Authorization:"Bearer ".concat(It)}})})),Object(G["a"])(this,"get_profiles",(function(){return v.a.get(yt.PROFILES,{headers:{Authorization:"Bearer ".concat(It)}})})),Object(G["a"])(this,"put_profiles",(function(t){v.a.put(yt.PROFILES,t,{headers:{Authorization:"Bearer ".concat(It)}})}))},Ct=function t(){Object(N["a"])(this,t),Object(G["a"])(this,"get_sos",(function(){return v.a.get(yt.SOS,{headers:{Authorization:"Bearer ".concat(It)}})}))},St=function t(){Object(N["a"])(this,t),Object(G["a"])(this,"get_helps",(function(){return v.a.get(yt.HELPS,{headers:{Authorization:"Bearer ".concat(It)}})}))},Ot=new Vt,jt={data:function(){return{riskGroup:!1,search:"",color:"#ffffff",dialog:!1,headers:[{text:"ID",align:"left",value:"id",sortable:"id"},{text:"Nome",value:"name",sortable:!1},{text:"E-mail",value:"email"},{text:"Whatsapp",value:"whatsapp"},{text:"Endereço",value:"address"},{text:"Actions",value:"action",sortable:!1}],users:[],profiles:[],Lista:[],editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}},watch:{dialog:function(t){t||this.close()}},mounted:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.list_user();case 2:return t.next=4,this.get_profiles();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getColor:function(t){if(!t.birth_date)return"#51d61da1";var e=t.birth_date.split("/")[2],a=(new Date).getFullYear(),n=a-parseInt(e);return 0==t.risk_group.length&&n<60?"#51d61da1":0!=t.risk_group.length&&n<60||0==t.risk_group.length&&n>=60?"#d6d31da1":0!=t.risk_group.length&&n>=60?"#d61d1da1":void 0},list_user:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ot.get_users();case 2:e=t.sent.data,this.users=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),get_profiles:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ot.get_profiles();case 2:this.profiles=t.sent.data;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editItem:function(t){this.editedItem=Object.assign({},t),this.dialog=!0},saveProfile:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ot.put_profiles([{profile_id:this.editedItem.profile_id,user_id:this.editedItem.id}]);case 2:this.close();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem)}),300)}},save:function(){this.editedIndex>-1||this.desserts.push(this.editedItem),this.close()}},Tt=jt,At=(a("c9ca"),a("8fea")),Ft=a("169a"),$t=a("adda"),Dt=a("b974"),Rt=Object(l["a"])(Tt,xt,kt,!1,null,"c14cb45a",null),Et=Rt.exports;k()(Rt,{VBtn:y["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:C["a"],VContainer:S["a"],VDataTable:At["a"],VDialog:Ft["a"],VIcon:X["a"],VImg:$t["a"],VRow:T["a"],VSelect:Dt["a"],VSpacer:F["a"],VTextField:$["a"],VToolbar:D["a"],VToolbarTitle:R["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("v-container",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{md:"5",sm:"5"}},[a("v-menu",{ref:"inicioMenu",attrs:{"close-on-content-click":!1,"max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Inicio","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.inicio.date=t.parseDate(t.dateFormatted)}},model:{value:t.inicio.date,callback:function(e){t.$set(t.inicio,"date",e)},expression:"inicio.date"}},n))]}}]),model:{value:t.inicio.menu,callback:function(e){t.$set(t.inicio,"menu",e)},expression:"inicio.menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.inicio.menu=!1}},model:{value:t.inicio.date,callback:function(e){t.$set(t.inicio,"date",e)},expression:"inicio.date"}})],1)],1),a("v-col",{attrs:{md:"5",sm:"5"}},[a("v-menu",{ref:"inicioMenu",attrs:{"close-on-content-click":!1,"max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Final","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.final.date=t.parseDate(t.dateFormatted)}},model:{value:t.final.date,callback:function(e){t.$set(t.final,"date",e)},expression:"final.date"}},n))]}}]),model:{value:t.final.menu,callback:function(e){t.$set(t.final,"menu",e)},expression:"final.menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.final.menu=!1}},model:{value:t.final.date,callback:function(e){t.$set(t.final,"date",e)},expression:"final.date"}})],1)],1),a("v-col",{staticClass:"padding-button",attrs:{md:"2",sm:"2"},on:{click:function(e){return t.refreshDate()}}},[a("v-btn",{attrs:{block:""}},[t._v("Zerar")])],1)],1)],1),a("gmap-map",{ref:"mymap",staticStyle:{width:"100%",height:"1000px"},attrs:{center:t.mapConfig.startLocation,zoom:t.mapConfig.zoom}},[a("v-dialog",{attrs:{width:"50%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.userAlert.name)+" ")]),a("v-card-text",[a("p",[t._v(" Criação: "+t._s(t.userAlert.createdAt)+" ")]),a("p",[t._v(" Whatsapp: "+t._s(t.userAlert.whatsapp)+" ")]),a("p",[t._v(" Sintomas: "+t._s(t.userAlert.sintoms)+" ")])])],1)],1),t._l(t.filteredPoints,(function(e){return a("gmap-marker",{key:e.id,attrs:{position:t.getPosition(e),clickable:!0,icon:t.colorMarker(e)},on:{click:function(a){return t.toggleInfo(e)}}})}))],2)],1)],1)},Pt=[],Mt=(a("4de4"),new St),Bt={name:"my-map",data:function(){return{inicio:{menu:"",date:""},final:{menu:"",date:""},dialog:!1,mapConfig:{colorMarkers:{red:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",yellow:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",green:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"},zoom:15,startLocation:{lat:-15.7639579,lng:-47.869274}},coordinates:[],userAlert:{id:null,name:null,sintoms:null,whatsapp:null,user_location:null,createdAt:null,updateAt:null}}},mounted:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.list_alerts();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{filteredPoints:function(){var t=this.coordinates,e=null,a=null;e=0==this.inicio.date.length?(new Date).getFullYear()-5:new Date(this.inicio.date),a=0==this.final.date.length?new Date:new Date(this.final.date);var n=t.filter((function(t){var n=new Date(t.createdAt);return e<=n&&n<a}));return n}},methods:{refreshDate:function(){this.inicio.date="",this.final.date="",this.filteredPoints()},list_alerts:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Mt.get_helps();case 2:e=t.sent.data,e.sort((function(t,e){return new Date(t.createdAt)-new Date(e.createdAt)})),this.coordinates=e;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),colorMarker:function(t){var e=t.sintoms.split(",").length;return"Falta de ar"==t.sintoms?"http://maps.google.com/mapfiles/ms/icons/red-dot.png":1==e?"http://maps.google.com/mapfiles/ms/icons/green-dot.png":2==e?"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png":e>2?"http://maps.google.com/mapfiles/ms/icons/red-dot.png":void 0},getPosition:function(t){var e=t.user_location.split(","),a=e[0],n=e[1];return{lat:parseFloat(a),lng:parseFloat(n)}},toggleInfo:function(t){this.dialog=!0,this.mapConfig.startLocation=this.getPosition(t),this.userAlert=Object.assign({},t)}}},zt=Bt,Nt=(a("a948"),a("2e4b")),Ut=a("e449"),Gt=Object(l["a"])(zt,Lt,Pt,!1,null,"721432f7",null),Wt=Gt.exports;k()(Gt,{VBtn:y["a"],VCard:I["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:C["a"],VContainer:S["a"],VDatePicker:Nt["a"],VDialog:Ft["a"],VMenu:Ut["a"],VRow:T["a"],VTextField:$["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.alerts,search:t.search,"sort-by":["id"],"sort-desc":["false"]},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Alertas")]),a("v-spacer"),a("v-row",{staticClass:"mainSearch  pa-3",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mainSearch",attrs:{cols:"4"}},[a("v-text-field",{staticClass:"searchLabel",attrs:{"append-icon":"mdi-account-search",label:"Nome","single-line":"","hide-details":""},on:{input:t.filterSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{staticClass:"mainSearch",attrs:{cols:"4"}},[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"De","persistent-hint":"","single-line":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFrom)}},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}},n))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1)],1),a("v-col",{staticClass:"mainSearch",attrs:{cols:"4"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"",disabled:"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Até hoje","persistent-hint":"","single-line":"",disabled:"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateTo)}},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}},n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1}},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"green lighten-2"},[a("span",{staticClass:"headline"},[t._v("User")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:t.editedItem.id,callback:function(e){t.$set(t.editedItem,"id",e)},expression:"editedItem.id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nome",disabled:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Sintomas",disabled:""},model:{value:t.editedItem.sintoms,callback:function(e){t.$set(t.editedItem,"sintoms",e)},expression:"editedItem.sintoms"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Whatsapp",disabled:""},model:{value:t.editedItem.whatsapp,callback:function(e){t.$set(t.editedItem,"whatsapp",e)},expression:"editedItem.whatsapp"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Hora",disabled:""},model:{value:t.editedItem.createdAt,callback:function(e){t.$set(t.editedItem,"createdAt",e)},expression:"editedItem.createdAt"}})],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",disabled:""}},[t._v(" Ver no mapa ")]),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Fechar")])],1)],1)],1)],1),a("v-toolbar",{attrs:{flat:""}},[a("v-layout",{attrs:{row:"",wrap:"","ma-1":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.items,"single-line":"",attach:"",chips:"",color:"red",label:"Sintomas",multiple:""},model:{value:t.sintoms,callback:function(e){t.sintoms=e},expression:"sintoms"}})],1)],1)],1)]},proxy:!0},{key:"body",fn:function(e){var n=e.items;return[a("tbody",t._l(n,(function(e){return a("tr",{key:t.i+"-"+e.id,style:{backgroundColor:t.getColor(e)}},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.sintoms))]),a("td",[t._v(t._s(e.whatsapp))]),a("td",[t._v(t._s(e.createdAt))]),a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e)}}},[t._v(" mdi-pencil ")])],1)])})),0)]}},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v(" mdi-pencil ")])]}}])})],1)},Kt=[],Jt=(a("a623"),a("caad"),a("a15b"),a("2532"),new St),Yt={data:function(){return{sintoms:"",dateFrom:"",dateTo:"",search:"",dialog:!1,items:["Febre","Tosse seca","Falta de ar","Cansaço"],alerts:[],Lista:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}},computed:{headers:function(){var t=this;return[{text:"ID",align:"left",value:"id",sortable:"id"},{text:"Nome",value:"name"},{text:"Sintomas",value:"sintoms",filter:function(e){return!t.sintoms||(t.sintoms.every((function(t){return e.includes(t)}))?e:void 0)}},{text:"Whatsapp",value:"whatsapp"},{text:"Hora",value:"createdAt",filter:function(e){if(!t.dateFrom&&!t.dateTo)return!0;var a=new Date(e),n=new Date(t.dateFrom),r=null;return r=t.dateTo?new Date(e):new Date(Date.now()),n<a&&r>a?e:void 0}},{text:"Actions",value:"action",sortable:!1}]}},mounted:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.list_alerts();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getColor:function(t){var e=t.sintoms.split(",").length;return"Falta de ar"==t.sintoms?"#d61d1da1":1==e?"#51d61da1":2==e?"#d6d31da1":e>2?"#d61d1da1":void 0},list_alerts:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt.get_helps();case 2:for(e=t.sent.data,a=0;a<e.length;a++)e[a]["sintoms"]=e[a]["sintoms"].split(",").join(", ");this.alerts=e.reverse();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editItem:function(t){this.editedItem=Object.assign({},t),this.dialog=!0},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)}}},qt=Yt,Zt=(a("8f16"),a("0e8f")),Qt=a("a722"),Xt=Object(l["a"])(qt,Ht,Kt,!1,null,"4e49b961",null),te=Xt.exports;k()(Xt,{VBtn:y["a"],VCard:I["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:C["a"],VContainer:S["a"],VDataTable:At["a"],VDatePicker:Nt["a"],VDialog:Ft["a"],VFlex:Zt["a"],VIcon:X["a"],VLayout:Qt["a"],VMenu:Ut["a"],VRow:T["a"],VSelect:Dt["a"],VSpacer:F["a"],VTextField:$["a"],VToolbar:D["a"],VToolbarTitle:R["a"]});var ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"button",on:{click:function(e){return t.reload()}}},[t._v(" Refresh ")]),a("br"),a("vue-google-heatmap",{key:t.componentKey,ref:"reloadComponent",staticStyle:{width:"100%",height:"900px"},attrs:{points:t.points,"initial-zoom":15,lat:-15.7639579,lng:-47.869274}})],1)},ae=[],ne=new St,re={name:"map",data:function(){return{componentKey:0,points:[]}},mounted:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.list_alerts();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{list_alerts:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.get_helps();case 2:for(e=t.sent.data,a=null,n=[],r=null,i=null,s=null,o=0;o<e.length;o++)isNaN(e[o].user_location)&&(r=e[o].user_location.split(","),i=r[0],s=r[1],a={lat:parseFloat(i),lng:parseFloat(s)},n.push(a));this.points=n,this.$refs.reloadComponent.$forceUpdate();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reload:function(){this.$refs.reloadComponent.$forceUpdate(),this.componentKey+=1}}},ie=re,se=(a("93ee"),Object(l["a"])(ie,ee,ae,!1,null,"b27a33dc",null)),oe=se.exports;k()(se,{VBtn:y["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alerts"},[a("v-card",[a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{key:"Brasil"},[t._v("Lista")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tab",{key:"Estados"},[t._v("Mapa")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:"Brasil"},[a("lista",{attrs:{alerts:t.alerts}})],1),a("v-tab-item",{key:"Estados"},[a("mapa")],1)],1)],1)],1)},ce=[],ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.alerts}})],1)},de=[],me={props:["alerts"],data:function(){return{headers:[{text:"ID",align:"left",value:"id",sortable:"id"},{text:"Nome",value:"name"},{text:"Whatsapp",value:"whatsapp"},{text:"Criado em",value:"createdAt"},{text:"Atualizado em",value:"updatedAt"},{text:"Actions",value:"action",sortable:!1}]}}},pe=me,fe=Object(l["a"])(pe,ue,de,!1,null,null,null),ve=fe.exports;k()(fe,{VDataTable:At["a"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[t._v(" Nothing to Display ")])},be=[],ge={},_e=Object(l["a"])(ge,he,be,!1,null,null,null),xe=_e.exports;k()(_e,{VCard:I["a"]});var ke=new Ct,we={components:{Lista:ve,Mapa:xe},data:function(){return{tab:null,alerts:[]}},mounted:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.get_alerts();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{get_alerts:function(){var t=Object(wt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ke.get_sos();case 2:this.alerts=t.sent.data;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},ye=we,Ie=a("71a3"),Ve=a("c671"),Ce=a("fe57"),Se=a("aac8"),Oe=Object(l["a"])(ye,le,ce,!1,null,"f909901c",null),je=Oe.exports;k()(Oe,{VCard:I["a"],VDivider:Q["a"],VTab:Ie["a"],VTabItem:Ve["a"],VTabs:Ce["a"],VTabsItems:Se["a"]}),n["a"].use(d["a"]);var Te=[{path:"/",component:_t,children:[{path:"/map",name:"maps",component:Wt},{path:"/usuarios",name:"usuarios",component:Et},{path:"/",name:"alertas",component:te},{path:"/heatmap",name:"heat",component:oe},{path:"/sos/socorro",name:"socorro",component:je}]},{path:"/login",name:"login",component:L}],Ae=new d["a"]({routes:Te}),Fe=localStorage.getItem("user_token");Ae.beforeEach((function(t,e,a){"login"==t.name||Fe?a():a({name:"login"})}));var $e=Ae,De=(a("5363"),a("f309"));n["a"].use(De["a"]);var Re=new De["a"]({icons:{iconfont:"mdi"}}),Ee=a("755e"),Le=a("0628"),Pe=a.n(Le),Me=a("ead5"),Be=a.n(Me),ze=(a("4160"),a("4fad"),a("159b"),a("3835")),Ne=function(){function t(e,a,n,r){Object(N["a"])(this,t),this.items=e,this.filter=n,this.headers=r,this.filters=a,this.filterCallbacks={}}return Object(U["a"])(t,[{key:"registerFilter",value:function(t,e){this.filterCallbacks[t]=e}},{key:"runFilters",value:function(){var t=this,e=t.items;return Object.entries(this.filterCallbacks).forEach((function(a){var n=Object(ze["a"])(a,2),r=n[0],i=n[1];e=i.call(t,t.filters[r],e)})),e}}],[{key:"updateFilters",value:function(t,e){return Object.assign({},t,e)}}]),t}(),Ue={install:function(t){t.prototype.$MultiFilters=Ne}},Ge=Ue,We=a("cd79"),He=a("27e3"),Ke=a.n(He),Je=a("8f68"),Ye=a.n(Je),qe="AIzaSyDhD5AZQnSDAnu4K1qJiytbzk7v4m9N17k";n["a"].use(Be.a),n["a"].use(Ke.a,Ye.a),n["a"].use(Ee,{load:{key:qe,libraries:["places","visualization"]}}),n["a"].use(We["a"],{apiKey:qe}),n["a"].use(Pe.a),n["a"].use(Ge),n["a"].config.productionTip=!1,new n["a"]({router:$e,vuetify:Re,render:function(t){return t(u)}}).$mount("#app")},8009:function(t,e,a){},"8f16":function(t,e,a){"use strict";var n=a("a354"),r=a.n(n);r.a},"93ee":function(t,e,a){"use strict";var n=a("fe0f"),r=a.n(n);r.a},a247:function(t,e,a){"use strict";var n=a("0773"),r=a.n(n);r.a},a354:function(t,e,a){},a948:function(t,e,a){"use strict";var n=a("3492"),r=a.n(n);r.a},c9ca:function(t,e,a){"use strict";var n=a("8009"),r=a.n(n);r.a},fe0f:function(t,e,a){}});
//# sourceMappingURL=app.e52c20cb.js.map